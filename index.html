<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
<style>
h1 {
   padding-left: 70px;
}
table, th, td {
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
th, td {
  padding-top: 10px;
  padding-bottom: 10px;
  padding-left: 20px;
  padding-right: 20px;
}
.content {
  max-width: 500px;
  margin: auto;
}
</style>
</head>
<body>
<div class=content>
<h1> ⛳  Leaderboard ⛳ </h1>
  <p id="currentScore"></p>
  <table id="myTable"></table>
</div>
  <script>
    fetch('data.json')
      .then(response => response.json())
      .then(data => {
        const table = document.getElementById('myTable');
        const currentScore = document.getElementById('currentScore');
        const { title, headers, rows } = data.table;
        let totalScores = [0, 0, 0, 0]; // Initialize total score for each column to 0

        // Add title row
        const titleRow = document.createElement('tr');
        const titleCell = document.createElement('th');
        titleCell.colSpan = headers.length;
        titleCell.innerText = title;
        titleRow.appendChild(titleCell);
        table.appendChild(titleRow);
        // Add header row
        const headerRow = document.createElement('tr');
        headers.forEach(header => {
          const headerCell = document.createElement('th');
          headerCell.innerText = header;
          headerRow.appendChild(headerCell);
        });
        table.appendChild(headerRow);

        // Add data rows
        rows.forEach(rowData => {
          const row = document.createElement('tr');
          rowData.cells.forEach((cellData, index) => {
            const cell = document.createElement('td');
            cell.innerText = cellData;
            row.appendChild(cell);

            // Update total score for each column
            if (index >= 2 && index <= 5) {
              totalScores[index - 2] += isNaN(cellData) ? 0 : Number(cellData);
            }
          });
          table.appendChild(row);
        });

        // Display current score
        const countries = ['🇺🇸', '🇨🇦', '🏴󠁧󠁢󠁥󠁮󠁧󠁿','🇮🇪'] 
        const scoresWithCountries = totalScores.map((score, i) => `${countries[i]}=${score+72}`);
        currentScore.innerText = "Current Score: " + scoresWithCountries.join(' ');
      })
    .catch(error => console.error(error));
  </script>
</body>
</html>

